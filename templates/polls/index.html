<!-- {} 이거는 하나의 박스에 의미함 여기에 %을 쓰면 함수 등을 사용해서 직접 조종하겠다는 얘기임 
끝나면 직접 조종 부분이 끝났다라는 것을 표시해주기 위해서 endfor, endif 등을 사용 함  -->
{% extends "polls/base.html" %}
{% load static %}

{% block title %}
<h1>최근 질문</h1>
{% endblock %}

{% block content %}
{# 쿼리스트링 GET 폼 #}
<form method="get" class="filter-form">
  <input type="text" name="q" placeholder="질문 검색" value="{{ request.GET.q }}">

  <select name="order">
    <option value="">최신순</option>
    <option value="oldest" {% if request.GET.order == "oldest" %}selected{% endif %}>
      오래된순
    </option>
  </select>

  <label>
    <input type="checkbox" name="show" value="future"
           {% if request.GET.show == "future" %}checked{% endif %}>
    미래 질문 포함
  </label>

  <input type="text" name="start" placeholder="start: 2026-01-01" value="{{ request.GET.start }}">
  <input type="text" name="end" placeholder="end: 2026-01-31" value="{{ request.GET.end }}">

  <button type="submit">적용</button>
  <a href="{% url 'polls:index' %}">초기화</a>
</form>

<hr>

{% if latest_question_list %}
  <ul>
    {% for question in latest_question_list %}
      <li>
        <a href="{% url 'polls:detail' question.id %}">
          {{ question.question_text }}
        </a>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No polls are available.</p>
{% endif %}
{% endblock %}